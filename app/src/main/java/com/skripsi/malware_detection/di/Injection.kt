package com.skripsi.malware_detection.di

import android.content.Context
import com.skripsi.malware_detection.database.local.room.ExtractionDatabase
import com.skripsi.malware_detection.database.local.room.ExtractionResultDatabase
import com.skripsi.malware_detection.database.ExtractionRepository
import com.skripsi.malware_detection.database.ExtractionResultRepository
import com.skripsi.malware_detection.database.remote.retrofit.ApiConfig

object Injection {
    fun provideExtractionRepository(context: Context): ExtractionRepository {
        val extractionApiService = ApiConfig.getExtractionService(context)
        val extractionDatabase = ExtractionDatabase.getInstance(context)
        val extractionDao = extractionDatabase.extractionDao()
        return ExtractionRepository.getInstance(extractionApiService, extractionDao)
    }

    fun provideExtractionResultRepository(context: Context): ExtractionResultRepository {
        val extractionResultApiService = ApiConfig.getExtractionResultService(context)
        val extractionResultDatabase = ExtractionResultDatabase.getInstance(context)
        val extractionResultDao = extractionResultDatabase.extractionResultDao()

        return ExtractionResultRepository.getInstance(extractionResultApiService, extractionResultDao)
    }
}